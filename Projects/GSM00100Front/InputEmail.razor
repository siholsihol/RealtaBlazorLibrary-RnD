@inherits R_Page
@attribute [R_Page(Title = "Test Send Email")]
@inject R_ILocalizer<GSM00100FrontResources.Resources_Dummy_Class> _localizer

<R_StackLayout Row>
    <R_ItemLayout col="3">
        <R_Label>@_localizer["_EmailTo"]</R_Label>
    </R_ItemLayout>

    <R_ItemLayout>
        <R_TextBox @bind-Value="@_emailTo"></R_TextBox>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout Row Reverse>
    <R_Button OnClick="@CloseOnClick">@_localizer["_ok"]</R_Button>
</R_StackLayout>

@code {
    [Inject] private R_NotificationService _notificationService { get; set; }

    private string _emailTo = "";

    private async Task CloseOnClick()
    {
        if (string.IsNullOrWhiteSpace(_emailTo))
        {
            _notificationService.Error("Please fill email address.");

            return;
        }

        await this.Close(true, _emailTo);
    }
}
